{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introdu\u00e7\u00e3o","text":"<p>Esta \u00e9 a documenta\u00e7\u00e3o das atividades desenvolvidas na disciplina de Administra\u00e7\u00e3o de Sistemas Abertos do Curso de Redes de Computadores.</p> <p>Aqui voc\u00ea ir\u00e1 encontrar como:</p> <ul> <li> <p>Configurar as interfaces de rede</p> </li> <li> <p>Instala\u00e7\u00e3o e Configura\u00e7\u00e3o do Apache </p> </li> <li> <p>Visualiza\u00e7\u00e3o de Logs</p> </li> <li> <p>SSH </p> </li> <li> <p>Instala\u00e7\u00e3o e Configura\u00e7\u00e3o do Samba4 como controlador de dom\u00ednio do ActiveDirectory no Alpine Linux</p> </li> </ul>"},{"location":"comandos/","title":"Comandos essenciais","text":""},{"location":"comandos/#para-listar-as-interfaces-de-rede","title":"Para listar as interfaces de rede:","text":"<p>$ ip -br - c a</p>"},{"location":"comandos/#para-ativar-e-desativar-interfaces-de-rede-no-debian","title":"Para ativar e desativar Interfaces de rede (no Debian):","text":"<p>$ ifup INTERFACE #ATIVAR</p> <p>$ ifdown INTERFACE #DESATIVAR</p>"},{"location":"comandos/#para-aplicar-as-alteracoes-do-arquivo-de-configuracao-de-rede-no-ubuntu","title":"Para aplicar as altera\u00e7\u00f5es do arquivo de configura\u00e7\u00e3o de rede (no Ubuntu):","text":"<p>$ netplan apply</p>"},{"location":"configurar_interfaces/","title":"Configurar Interfaces de Rede","text":""},{"location":"configurar_interfaces/#configuracao-das-interfaces-de-rede-com-netplan-no-ubuntu-server","title":"Configura\u00e7\u00e3o das Interfaces de Rede com Netplan no Ubuntu Server","text":"<p>O Netplan \u00e9 o utilit\u00e1rio de configura\u00e7\u00e3o de rede padr\u00e3o no Ubuntu a partir da vers\u00e3o 17.10. Ele substitui o arquivo de configura\u00e7\u00e3o de rede legado \"/etc/network/interfaces\" e permite configurar a rede de forma mais eficiente e flex\u00edvel. O Netplan utiliza a sintaxe YAML para definir a configura\u00e7\u00e3o de rede.</p>"},{"location":"configurar_interfaces/#passo-1-criareditar-o-arquivo-de-configuracao","title":"Passo 1: Criar/Editar o arquivo de configura\u00e7\u00e3o","text":"<p>Acesse o arquivo de configura\u00e7\u00e3o YAML no diret\u00f3rio \"/etc/netplan\".</p> <pre><code>$ sudo vi /etc/netplan/50-cloud-init.yaml\n</code></pre> <p>Dentro do arquivo, voc\u00ea encontrar\u00e1 o seguinte conte\u00fado:</p> <pre><code>network:\n  version: 2\n  ethernets:\n    eth0:\n      dhcp4: true\n</code></pre> <p>Pressione a tecla i para iniciar a edi\u00e7\u00e3o do arquivo.</p> <p>Atualize o arquivo de configura\u00e7\u00e3o com as seguintes informa\u00e7\u00f5es, verificando sempre a identa\u00e7\u00e3o correta:</p> <pre><code>network:\n  version: 2\n  renderer: networkd\n  ethernets:\n    eth0: # interface de rede\n      addresses:\n        - 192.168.0.210/24 # seu endere\u00e7o de IP est\u00e1tico/m\u00e1scara\n      nameservers:\n        addresses: [8.8.8.8, 8.8.4.4] # DNS\n      routes:\n        - to: default\n          via: 192.168.0.254 # Gateway\n</code></pre> <p>Aperte a tecla Esc e digite :wq! para salvar e sair do editor.</p>"},{"location":"configurar_interfaces/#passo-2-aplique-as-novas-configuracoes-de-rede","title":"Passo 2: Aplique as novas configura\u00e7\u00f5es de rede","text":"<p>Use o seguinte comando para aplicar as novas configura\u00e7\u00f5es de rede:</p> <pre><code>$ sudo netplan apply\n</code></pre> <p>Se tudo estiver correto, o comando ser\u00e1 executado sem retornar nada. Caso ocorra algum erro, o Netplan exibir\u00e1 uma mensagem de erro indicando o problema.</p>"},{"location":"configurar_interfaces/#passo-3-verifique-se-o-endereco-ip-foi-atribuido-corretamente-usando-o-comando","title":"Passo 3: Verifique se o endere\u00e7o IP foi atribu\u00eddo corretamente usando o comando:","text":"<pre><code>$ ip -br -c a\n</code></pre>"},{"location":"configurar_interfaces/#passo-4-teste-a-conexao-com-a-internet","title":"Passo 4: Teste a conex\u00e3o com a Internet","text":"<p>Teste a conex\u00e3o com a Internet usando o comando ping, por exemplo:</p> <pre><code>$ ping google.com\n</code></pre> <p>Certifique-se de que a conex\u00e3o com a Internet esteja funcionando corretamente.</p>"},{"location":"configurar_interfaces/#configuracao-das-interfaces-de-rede-no-debian","title":"Configura\u00e7\u00e3o das Interfaces de Rede no Debian","text":"<p>A configura\u00e7\u00e3o das interfaces de rede no Debian \u00e9 feita por meio do arquivo de configura\u00e7\u00e3o   /etc/network/interfaces. Neste arquivo, voc\u00ea pode definir as configura\u00e7\u00f5es de rede para cada interface de rede do sistema.</p>"},{"location":"configurar_interfaces/#passo-1-acessar-o-arquivo-de-configuracao","title":"Passo 1: Acessar o arquivo de configura\u00e7\u00e3o","text":"<p>Abra um terminal e acesse o arquivo de configura\u00e7\u00e3o /etc/network/interfaces usando um editor de texto, como o nano:</p> <pre><code>$ sudo nano /etc/network/interfaces\n</code></pre>"},{"location":"configurar_interfaces/#passo-2-configurar-as-interfaces-de-rede","title":"Passo 2: Configurar as interfaces de rede","text":"<p>Dentro do arquivo /etc/network/interfaces, voc\u00ea pode definir as configura\u00e7\u00f5es para cada interface de rede separadamente. Aqui est\u00e1 um exemplo de como configurar uma interface de rede usando DHCP:</p> <pre><code>auto eth0\niface eth0 inet dhcp\n</code></pre> <p>Nesse exemplo, a interface de rede eth0 est\u00e1 configurada para obter um endere\u00e7o IP automaticamente por meio do DHCP.</p> <p>Se voc\u00ea deseja configurar um endere\u00e7o IP est\u00e1tico para a interface de rede, pode usar o seguinte exemplo:</p> <pre><code>auto eth0\niface eth0 inet static\n    address 192.168.0.100\n    netmask 255.255.255.0\n    gateway 192.168.0.1\n</code></pre> <p>Nesse exemplo, a interface de rede eth0 est\u00e1 configurada com um endere\u00e7o IP est\u00e1tico 192.168.0.100, uma m\u00e1scara de rede 255.255.255.0 e um gateway padr\u00e3o 192.168.0.1.</p> <p>Voc\u00ea tamb\u00e9m pode adicionar configura\u00e7\u00f5es adicionais, como servidores DNS:</p> <pre><code>auto eth0\niface eth0 inet static\n    address 192.168.0.100\n    netmask 255.255.255.0\n    gateway 192.168.0.1\n    dns-nameservers 8.8.8.8 8.8.4.4\n</code></pre> <p>Nesse exemplo, os servidores DNS do Google 8.8.8.8 e 8.8.4.4 s\u00e3o configurados para a interface de rede eth0.</p>"},{"location":"configurar_interfaces/#passo-3-salvar-e-fechar-o-arquivo","title":"Passo 3: Salvar e fechar o arquivo","text":"<p>Depois de fazer as altera\u00e7\u00f5es necess\u00e1rias no arquivo /etc/network/interfaces, salve o arquivo e feche o editor de texto.</p>"},{"location":"configurar_interfaces/#passo-4-reiniciar-o-servico-de-rede","title":"Passo 4: Reiniciar o servi\u00e7o de rede","text":"<p>Para que as altera\u00e7\u00f5es tenham efeito, voc\u00ea precisa reiniciar o servi\u00e7o de rede. Use o seguinte comando para reiniciar o servi\u00e7o networking:</p> <pre><code>$ systemctl restart networking\n</code></pre>"},{"location":"samba4/","title":"SAMBA4: INSTALA\u00c7\u00c3O NO ALPINE LINUX","text":""},{"location":"samba4/#instalacao-dos-pacotes-necessarios","title":"Instala\u00e7\u00e3o dos pacotes Necessarios:","text":"<pre><code>$ apk add samba-dc krb5\n</code></pre> <p>Instalei tambem um editor de texto e outros pacotes de minha preferencia</p> <pre><code>$ apk add nano vi vim bat ccze\n</code></pre>"},{"location":"samba4/#definindo-o-hostname-da-maquina","title":"Definindo o Hostname da Maquina:","text":"<p>Acessando os arquivos de configura\u00e7\u00e3o \u00e9 possivel alterar o nome da maquina </p> <pre><code>$ nano /etc/hostname\n</code></pre> <p>Altere-o para o nome de sua preferencia </p> <pre><code>capital.estado.lab\n</code></pre> <p>Alterei para:</p> <pre><code>natal.rn.lab\n</code></pre> <p>E no arquivo /etc/hosts onde havia o nome </p> <pre><code>capital capital.estado.lab\n</code></pre> <p>Alterei para:</p> <pre><code>natal natal.rn.lab\n</code></pre> <p>Salve os arquivos e pronto!</p>"},{"location":"samba4/#editando-o-arquivo-de-configuracao-do-samba4","title":"Editando o arquivo de configura\u00e7\u00e3o do Samba4","text":"<p>Podemos acessar o arquivo de configura\u00e7\u00e3o do samba em /etc/samba/smb.conf</p> <pre><code>$ nano /etc/samba/smb.conf\n</code></pre> <p>devemos deixa-lo assim:</p> <pre><code>[global]\n    server role = domain controller\n    workgroup = EXAMPLE\n    realm = example.com\n    netbios name = HOSTNAME\n    passdb backend = samba4\n    idmap_ldb:use rfc2307 = yes\n\n[netlogon]\n    path = /var/lib/samba/sysvol/example.com/scripts\n    read only = No\n\n[sysvol]\n    path = /var/lib/samba/sysvol\n    read only = No\n</code></pre> <p>Para isso voce pode acessar via SSH o que iria facilitar a edi\u00e7\u00e3o do arquivo ou voce pode apagar o arquivo e cria-lo novamente vazio.</p> <p>Comandos para apagar e criar o arquivo:</p> <pre><code>$ rm /etc/samba/smb.conf #apaga o arquivo\n\n$ nano /etc/samba/smb.conf #cria e ja abre com o editor nano\n</code></pre> <p>meu arquivo ficou assim:</p> <pre><code>[global]\n    server role = domain controller\n    workgroup = RN\n    realm = RN.LAB\n    netbios name = NATAL\n    passdb backend = samba4\n    idmap_ldb:use rfc2307 = yes\n\n[netlogon]\n    path = /var/lib/samba/sysvol/rn.lab/scripts\n    read only = No\n\n[sysvol]\n    path = /var/lib/samba/sysvol\n    read only = No\n</code></pre> <p>Pronto!</p>"},{"location":"samba4/#iniciando-a-configuracao-do-domino-do-samba","title":"Iniciando a configura\u00e7ao do domino do Samba:","text":"<p>comando:</p> <pre><code>$ samba-tool domain provision --use-rfc2307 --interactive\n</code></pre> <p></p>"},{"location":"servico_http/","title":"HTTP Server","text":"<p>o Apache comumente conhecido como Apache, \u00e9 um servidor web de c\u00f3digo aberto amplamente utilizado em todo o mundo. Ele oferece um ambiente seguro e confi\u00e1vel para hospedar sites e aplicativos da web. Nesta documenta\u00e7\u00e3o, forneceremos instru\u00e7\u00f5es passo a passo sobre como instalar e configurar o Apache em um sistema Linux.</p>"},{"location":"servico_http/#passo-1-instalacao-do-apache","title":"Passo 1: Instala\u00e7\u00e3o do Apache","text":"<p>Atualize os reposit\u00f3rios do sistema:</p> <pre><code>$ sudo apt update\n</code></pre> <p>Instale o Apache:</p> <pre><code>$ sudo apt install apache2\n</code></pre> <p>Ap\u00f3s a conclus\u00e3o da instala\u00e7\u00e3o, o Apache estar\u00e1 em execu\u00e7\u00e3o no seu sistema.</p> <p>Para verificar se o Apache est\u00e1 em execu\u00e7\u00e3o, voc\u00ea pode acessar o endere\u00e7o IP do servidor no seu navegador. Se a p\u00e1gina padr\u00e3o do Apache for exibida, isso significa que a instala\u00e7\u00e3o foi bem-sucedida.</p>"},{"location":"servico_http/#passo-2-configuracao-do-apache","title":"Passo 2: Configura\u00e7\u00e3o do Apache","text":""},{"location":"servico_http/#arquivos-de-configuracao","title":"Arquivos de Configura\u00e7\u00e3o","text":"<p>O arquivo principal de configura\u00e7\u00e3o do Apache \u00e9 o \"apache2.conf\", localizado em \"/etc/apache2/apache2.conf\". Voc\u00ea pode editar esse arquivo para fazer configura\u00e7\u00f5es gerais do servidor.</p> <p>As configura\u00e7\u00f5es espec\u00edficas de cada site s\u00e3o definidas nos arquivos de configura\u00e7\u00e3o localizados em \"/etc/apache2/sites-available\". Cada site possui um arquivo de configura\u00e7\u00e3o separado.</p>"},{"location":"servico_http/#diretorio-de-documentroot","title":"Diret\u00f3rio de DocumentRoot","text":"<p>O diret\u00f3rio de DocumentRoot \u00e9 o local onde os arquivos do seu site ser\u00e3o armazenados. O diret\u00f3rio padr\u00e3o \u00e9 \"/var/www/html\".</p> <p>Voc\u00ea pode editar o arquivo de configura\u00e7\u00e3o do site para alterar o diret\u00f3rio de DocumentRoot:</p> <p>Abra o arquivo de configura\u00e7\u00e3o do site:</p> <pre><code>$ sudo nano /etc/apache2/sites-available/seu_site.conf\n</code></pre> <p>Localize a diretiva \"DocumentRoot\" e altere o caminho para o diret\u00f3rio desejado.</p> <p>Salve o arquivo e saia do editor.</p> <p>Configurar nome de servidor virtual:</p> <p>Crie um arquivo de configura\u00e7\u00e3o para o nome de servidor virtual:</p> <pre><code>$ sudo nano /etc/apache2/sites-available/seu_nome_virtual.conf\n</code></pre> <p>Insira a configura\u00e7\u00e3o do nome de servidor virtual:</p> <p>     ServerName seu_nome_virtual     DocumentRoot /caminho/para/o/diretorio </p> <p>Ative o nome de servidor virtual:</p> <pre><code>$ sudo a2ensite seu_nome_virtual.conf\n</code></pre>"},{"location":"servico_http/#reinicie-o-apache","title":"Reinicie o Apache:","text":"<pre><code>$ sudo systemctl restart apache2\n</code></pre>"},{"location":"ssh/","title":"SSH","text":""},{"location":"ssh/#instalacao-do-ssh","title":"Instala\u00e7\u00e3o do SSH","text":"<pre><code>$ sudo apt update # atualiza o cat\u00e1logo de pacotes\n\n$ sudo apt install ssh # instala o pacote do SSH\n</code></pre>"},{"location":"ssh/#arquivos-de-configuracao-e-chaves-ssh","title":"Arquivos de Configura\u00e7\u00e3o e Chaves SSH","text":""},{"location":"ssh/#no-servidor-ssh","title":"No servidor SSH:","text":"<p>/etc/ssh/sshd_config: Este \u00e9 o arquivo de configura\u00e7\u00e3o do servidor SSH. Ele cont\u00e9m v\u00e1rias op\u00e7\u00f5es de configura\u00e7\u00e3o, como portas, autentica\u00e7\u00e3o, permiss\u00f5es de acesso, entre outras. \u00c9 necess\u00e1rio ter privil\u00e9gios de superusu\u00e1rio para editar este arquivo.</p>"},{"location":"ssh/#no-cliente-ssh","title":"No cliente SSH:","text":"<p>~/.ssh/config: Este \u00e9 o arquivo de configura\u00e7\u00e3o do cliente SSH, localizado no diret\u00f3rio home do usu\u00e1rio. Ele permite configurar op\u00e7\u00f5es espec\u00edficas para conex\u00f5es SSH, como aliases de host, identidades de chave, op\u00e7\u00f5es de autentica\u00e7\u00e3o, entre outras.</p>"},{"location":"ssh/#arquivo-sshconfig","title":"Arquivo ~/.ssh/config","text":"<pre><code>Host #NOME DE SUA ESCOLHA\n    HostName #ENDERE\u00c7O_IP_HOST\n    User #NOME DO USUARIO\n    Port #PORTA DO SSH CASO TENHA CONFIGURADO UMA DIFERENTE DA PADR\u00c3O\n</code></pre>"},{"location":"ssh/#arquivos-de-chave-ssh","title":"Arquivos de chave SSH:","text":""},{"location":"ssh/#id_rsa-e-id_rsapub","title":"id_rsa e id_rsa.pub:","text":"<p>Esses s\u00e3o os arquivos da chave privada e p\u00fablica, respectivamente. A chave privada (id_rsa) \u00e9 mantida no cliente e \u00e9 usada para autenticar a conex\u00e3o SSH. A chave p\u00fablica (id_rsa.pub) \u00e9 copiada para o servidor SSH e adicionada ao arquivo authorized_keys para permitir a autentica\u00e7\u00e3o com a chave correspondente.</p>"},{"location":"ssh/#authorized_keys","title":"authorized_keys:","text":"<p>Este arquivo est\u00e1 localizado no diret\u00f3rio ~/.ssh do usu\u00e1rio no servidor SSH. Ele cont\u00e9m as chaves p\u00fablicas autorizadas para autentica\u00e7\u00e3o com o servidor. Cada chave p\u00fablica autorizada \u00e9 adicionada em uma nova linha neste arquivo.</p>"},{"location":"ssh/#known_hosts","title":"known_hosts:","text":"<p>Este arquivo \u00e9 criado automaticamente pelo cliente SSH quando se conecta a um novo servidor SSH. Ele armazena as chaves p\u00fablicas dos servidores aos quais voc\u00ea j\u00e1 se conectou, a fim de verificar a autenticidade desses servidores em conex\u00f5es futuras. Esses arquivos e configura\u00e7\u00f5es s\u00e3o importantes para a configura\u00e7\u00e3o e autentica\u00e7\u00e3o segura de conex\u00f5es SSH. Ao configurar o SSH, \u00e9 essencial garantir que as permiss\u00f5es corretas sejam aplicadas aos arquivos de chave (por exemplo, id_rsa deve ter permiss\u00f5es restritas somente para o usu\u00e1rio) e que as configura\u00e7\u00f5es de seguran\u00e7a apropriadas sejam definidas nos arquivos de configura\u00e7\u00e3o (por exemplo, no sshd_config do servidor).</p>"},{"location":"ssh/#gerando-chaves-ssh","title":"Gerando chaves SSH","text":"<pre><code>$ ssh-keygen -t ed25519\n</code></pre>"},{"location":"ssh/#copiando-as-chaves","title":"Copiando as chaves","text":"<pre><code>$ sh-copy-id USUARIO@ENDERE\u00c7O_IP\n</code></pre> <p>Copiando as chaves para o host voc\u00ea pode acess\u00e1-lo sem a necessidade de senhas(apenas na primeira vez ser\u00e1 solicitado a senha, pois ele ir\u00e1 se conectar ao host e copiar as chaves p\u00fablicas do ssh).</p>"},{"location":"ssh/#copiando-um-arquivo-local-para-um-servidor-remoto","title":"Copiando um arquivo local para um servidor remoto:","text":"<pre><code>$ scp /caminho/do/arquivo.txt usuario@servidor:/caminho/destino/\n</code></pre>"},{"location":"ssh/#copiando-um-arquivo-remoto-para-o-seu-computador-local","title":"Copiando um arquivo remoto para o seu computador local:","text":"<pre><code>$ scp usuario@servidor:/caminho/do/arquivo.txt /caminho/destino/\n</code></pre>"},{"location":"ssh/#copiando-um-diretorio-local-para-um-servidor-remoto-use-a-opcao-r-para-transferir-recursivamente","title":"Copiando um diret\u00f3rio local para um servidor remoto (use a op\u00e7\u00e3o \"-r\" para transferir recursivamente):","text":"<pre><code>$ scp -r /caminho/do/diretorio usuario@servidor:/caminho/destino/\n</code></pre>"},{"location":"ssh/#copiando-um-diretorio-remoto-para-o-seu-computador-local-uso-da-opcao-r","title":"Copiando um diret\u00f3rio remoto para o seu computador local (uso da op\u00e7\u00e3o \"-r\"):","text":"<pre><code>$ scp -r usuario@servidor:/caminho/do/diretorio /caminho/destino/\n</code></pre>"},{"location":"ssh_alpine/","title":"SSH NO ALPINE LINUX","text":"<p>Para instalar um servidor SSH (OpenSSH) no Alpine Linux, voc\u00ea pode seguir os seguintes passos:</p> <p>Abra um terminal ou acesse o console do seu sistema Alpine Linux.</p> <p>Atualize o \u00edndice de pacotes para garantir que voc\u00ea esteja usando a lista mais atualizada dos pacotes dispon\u00edveis. Para isso, execute o seguinte comando como usu\u00e1rio root ou usando o sudo:</p> <pre><code>$ sudo apk update\n</code></pre> <p>Em seguida, instale o pacote OpenSSH-server usando o comando apk:</p> <pre><code>$ sudo apk add openssh-server\n</code></pre> <p>O servidor SSH agora est\u00e1 instalado em seu sistema. Por padr\u00e3o, o servi\u00e7o SSH \u00e9 habilitado automaticamente ap\u00f3s a instala\u00e7\u00e3o. Para garantir que ele seja iniciado automaticamente ao iniciar o sistema, execute o seguinte comando:</p> <pre><code>$ sudo rc-update add sshd\n</code></pre> <p>Agora, inicie o servidor SSH imediatamente com o seguinte comando:</p> <pre><code>$ sudo service sshd start\n</code></pre>"},{"location":"ver_logs/","title":"Visualiza\u00e7\u00e3o de Logs","text":"<p>O comando journalctl -f | ccze \u00e9 usado para exibir o log em tempo real do sistema, formatando-o com cores usando o programa ccze. Isso pode ajudar a tornar a leitura do log mais f\u00e1cil e distinguir diferentes tipos de mensagens.</p> <p>Os seguintes comandos podem ser usados para visualizar logs espec\u00edficos com formata\u00e7\u00e3o colorida:</p>"},{"location":"ver_logs/#para-visualizar-o-log-do-sistema","title":"Para visualizar o log do sistema:","text":"<p>$ tail -f /var/log/syslog | ccze</p>"},{"location":"ver_logs/#para-visualizar-o-log-de-autenticacao","title":"Para visualizar o log de autentica\u00e7\u00e3o:","text":"<p>$ tail -f /var/log/auth.log | ccze</p>"},{"location":"ver_logs/#para-visualizar-o-log-de-acesso-do-apache","title":"Para visualizar o log de acesso do Apache:","text":"<p>$ tail -f /var/log/apache2/access.log | ccze</p>"},{"location":"ver_logs/#para-visualizar-o-log-de-erros-do-apache","title":"Para visualizar o log de erros do Apache:","text":"<p>$ tail -f /var/log/apache2/error.log | ccze</p> <p>Esses comandos exibir\u00e3o as \u00faltimas linhas do arquivo de log especificado em tempo real, e a sa\u00edda ser\u00e1 formatada com cores usando o ccze. Isso tornar\u00e1 mais f\u00e1cil identificar diferentes tipos de mensagens no log.</p> <p>Lembre-se de que voc\u00ea precisa ter permiss\u00f5es de superusu\u00e1rio (ou usar sudo) para acessar os logs em alguns diret\u00f3rios, como /var/log/auth.log e /var/log/apache2/.</p>"}]}